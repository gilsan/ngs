
<div id="container">
    <div id="content">
        
        <table width="100%" border="0" cellspacing="0" cellpadding="0" class="mg_b10">
            <tr>
                <td  class="mail_title">InHouse Mutation</td>
                
                <td class="main_btn">
                    <ul>
                        <!--
                        <li>
                            <button type="button" class="btn btn_01" (click)="insertRow()" >추가</button>
                        </li>
                        <li>
                            <button type="button" class="btn btn_01">저장</button>
                        </li>
                        -->
                    </ul>
                </td>
                
            </tr>
        </table> 
        <div class="box mg_b20 pd_20 search">
            <input type="text" class="input_01" placeholder="Genes" #genes>
            <button type="button" class="btn btn_02" (click)="search(genes.value)" style="margin-left: 10px;">조회</button>
            <table border="0" cellspacing="0" cellpadding="0" class="mg_b10">
                <tr>
                    <td class="main_btn">
                        <ul>
                            <li>
                                <button type="button" class="btn btn_01" (click)="insertRow()" >추가</button>
                            </li>
                            <!--
                            <li>
                                <button type="button" class="btn btn_01">저장</button>
                            </li>
                            -->
                        </ul>
                    </td>
                    
                </tr>
            </table>
        </div>

    <div class="total"> 
        <span>Total: {{totRecords}} Records  ({{curPage}} / {{totPage}}) Pages</span>  
    </div>
    <div class="table-box-wrap">
        <div class="table-box box" style="overflow-x: auto;">         
            <table border="0" cellpadding="0" cellspacing="0" class="header-fix table_list" style="min-width:2000px; width:100%">
                <thead>
                    <tr>
                        <th >No.</th>
                        <th >Buccal</th>
                        <th >Patient Name</th>
                        <th >Register No.</th>
                        <th >Fusion</th>
                        <th >Gene</th>
                        <th >Funcational Impact</th>
                        <th >Transcript</th>
                        <th >Exion Intro</th>
                        <th >Necleotide Change</th>   
                        <th >Amino Acid Change</th> 
                        <th >Zygosity</th>
                        <th >Vaf</th>
                        <th >Referance</th>
                        <th >Cosmic Id</th>
                        <th >Sift Polyphen Mutation Taster</th>
                        <th >buccal2</th>
                        <th >Ivg</th>
                        <th >Sanger</th>
                        <th >수정/삭제</th>  
                    </tr>
                </thead>
                <tbody>
                    <tr class="table_bg" *ngFor="let list of lists; let i = index">
                            <input type="hidden" value="R" #status >   
                            <td style="width:10px;" class="txt_c" >{{i + 1}}</td> 
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.buccal}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.buccal}}" id="buccal{{list.id}}"    > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.patient_name}}</span>
                                <span *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.patient_name}}"  id="patientName{{list.id}}" > 
                                </span> 
                            </td> 
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.register_number}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.register_number}}" id="registerNumber{{list.id}}" > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.fusion}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.fusion}}" id="fusion{{list.id}}" > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.gene}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.gene}}" id="gene{{list.id}}" > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.functional_impact}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.functional_impact}}" id="functionalImpact{{list.id}}" > 
                                </span>    
                            </td> 
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.transcript}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.transcript}}" id="transcript{{list.id}}"  > 
                                </span>   
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.exon_intro}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.exon_intro}}" id="exonIntro{{list.id}}" > 
                                </span>   
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.nucleotide_change}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.nucleotide_change}}"  id="nucleotideChange{{list.id}}"  > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.amino_acid_change}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.amino_acid_change}}" id="aminoAcidChange{{list.id}}" > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.zygosity}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.zygosity}}" id="zygosity{{list.id}}"  > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.vaf}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.vaf}}" id="vaf{{list.id}}"  > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.reference}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.reference}}" id="reference{{list.id}}" > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.cosmic_id}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.cosmic_id}}" id="cosmicId{{list.id}}"  > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.sift_polyphen_mutation_taster}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.sift_polyphen_mutation_taster}}" id="siftPolyphenMutationTaster{{list.id}}" > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.buccal2}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.buccal2}}" id="buccal2{{list.id}}"  > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.igv}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.igv}}" id="igv{{list.id}}" > 
                                </span> 
                            </td>
                            <td class="txt_c"><span *ngIf="status.value === 'R'">{{list.sanger}}</span>
                                <span class="clr-input" *ngIf="status.value === 'U'">
                                    <input type="text"  class="clr-input" value="{{list.sanger}}" id="sanger{{list.id}}" > 
                                </span> 
                            </td>
                            <td class="txt_c">
                                <span *ngIf="status.value === 'R'">
                                    <a class="btn-edit" (click)="status.value='U'" >수정</a>
                                    <a class="btn-delete" (click)="deleteRow(list.id, list.genes)">삭제</a>
                                </span>
                                <span *ngIf="status.value === 'U'">    
                                    <a class="btn-cancel" (click)="status.value='R'">취소</a> 
                                    <a class="btn-save" (click)="updateRow(list.id)">저장</a>
                                </span>    
                            </td>
                    </tr> 
                </tbody>
            </table>
        </div>
        <div class="txt_c pd_t20 btn_num">
            <a class="ico_pre" (click)="goPage('<')" >이전</a>   
            <span *ngFor="let i of [1,2,3,4,5,6,7,8,9,10]">  
                <span   *ngIf="i + (pageLine*10) <= totPage">   
                    <span *ngIf="i + (pageLine*10) == curPage">
                        <a  (click)="goPage(i + (pageLine*10))"><span class="btn_select">{{i + (pageLine*10)}}</span></a>
                    </span>
                    <span *ngIf="i + (pageLine*10) != curPage">
                        <a  (click)="goPage(i + (pageLine*10))"><span>{{i + (pageLine*10)}}</span></a>
                    </span> 
                </span>    
            </span> 
            <a class="ico_next" (click)="goPage('>')" >다음</a> 
        </div>
        </div>
    </div>
</div>